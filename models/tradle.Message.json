{
  "id": "tradle.Message",
  "type": "tradle.Model",
  "title": "Message",
  "properties": {
    "_n": {
      "type": "number"
    },
    "_q": {
      "type": "string"
    },
    "recipientPubKey": {
      "type": "object",
      "inlined": true,
      "properties": {
        "curve": {
          "type": "string"
        },
        "pub": {
          "type": "bytes"
        }
      }
    },
    "object": {
      "type": "object",
      "inlined": true,
      "ref": "tradle.Object"
    },
    "time": {
      "type": "date"
    },
    "context": {
      "type": "string"
    },
    "forward": {
      "type": "string"
    },
    "originalSender": {
      "type": "string",
      "description": "for proxied messages"
    },
    "originalRecipient": {
      "type": "string",
      "description": "for proxied messages"
    },
    "inReplyTo": {
      "type": "string"
    },
    "_recipient": {
      "type": "string",
      "virtual": true
    },
    "_payloadType": {
      "type": "string",
      "virtual": true
    },
    "_payloadLink": {
      "type": "string",
      "virtual": true
    },
    "_payloadRecipient": {
      "type": "string",
      "virtual": true
    }
  },
  "required": [
    "recipientPubKey",
    "object",
    "time"
  ]
}
